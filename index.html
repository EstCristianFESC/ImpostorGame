<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Juego del Impostor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon"
        href="https://w7.pngwing.com/pngs/867/994/png-transparent-among-us-character-red-imposter-icon-cartoon-alien-logo.png"
        type="image/png">
    <style>
        body {
            background: #0d0d0d;
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .app-container {
            width: 100%;
            max-width: 450px;
            background: #151515;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
        }

        .hidden {
            display: none;
        }

        .footer-credit {
            position: fixed;
            bottom: 10px;
            width: 100%;
            text-align: center;
            font-size: 0.85rem;
            color: #666;
            user-select: none;
        }

        #word {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
        }

        #readyBtn,
        #startBtn,
        #showWordBtn {
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <h2 class="text-center mb-3">üîç Impostor</h2>

        <!-- CONFIGURACI√ìN -->
        <section id="setup" class="">
            <label class="form-label">Cantidad de jugadores</label>
            <select id="numPlayers" class="form-select mb-3">
                <option value="3">3 jugadores</option>
                <option value="4">4 jugadores</option>
                <option value="5">5 jugadores</option>
                <option value="6">6 jugadores</option>
                <option value="7">7 jugadores</option>
                <option value="8">8 jugadores</option>
                <option value="9">9 jugadores</option>
                <option value="10">10 jugadores</option>
            </select>

            <label class="form-label">Cantidad de impostores</label>
            <select id="numImpostors" class="form-select mb-3">
                <option value="1">1 impostor</option>
                <option value="2">2 impostores</option>
                <option value="3">3 impostores</option>
            </select>

            <label class="form-label">Categor√≠a</label>
            <select id="category" class="form-select mb-3">
                <option value="Animales">Animales</option>
                <option value="Comida">Comida</option>
                <option value="Objetos">Objetos</option>
                <option value="Profesiones">Profesiones</option>
                <option value="Deportes">Deportes</option>
                <option value="Marcas">Marcas</option>
                <option value="Peliculas">Peliculas</option>
                <option value="Frutas">Frutas</option>
                <option value="Cantantes">Cantantes</option>
            </select>

            <button id="startBtn" class="btn btn-primary mt-2">Iniciar Juego</button>
        </section>

        <!-- ESPERA ENTRE JUGADORES -->
        <section id="waiting" class="hidden text-center">
            <h4 id="waitingText">Jugador 1 listo para ver palabra</h4>
            <button id="showWordBtn" class="btn btn-warning mt-3">Mostrar palabra</button>
        </section>

        <!-- MOSTRAR PALABRA -->
        <section id="game" class="hidden text-center">
            <h4 id="playerHeader">Jugador X</h4>
            <p id="word" class="my-4"></p>
        </section>

        <!-- FINAL: QUI√âN INICIA -->
        <section id="finalStart" class="hidden text-center">
            <h3>¬°Listo para jugar!</h3>
            <p class="mt-3">El jugador que empieza es:</p>
            <h1 id="starterPlayer" class="mt-2 text-warning"></h1>
            <p class="mt-4">¬°Que gane el mejor! üòé</p>
            <button id="btnReiniciar" class="btn btn-secondary mt-3 w-100">Jugar de nuevo üîÑ</button>
        </section>

    </div>

    <script>
        const words = {
            Animales: ["Perro", "Gato", "Tigre", "Conejo", "Elefante", "Loro", "Le√≥n", "Zorro", "Oso", "Serpiente", "Delf√≠n"],
            Comida: ["Pizza", "Arepa", "Hamburguesa", "Tamal", "Pasta", "Empanada", "Chocolate", "Bandeja Paisa", "Sancocho", "Ajiaco"],
            Objetos: ["Silla", "Mesa", "Tel√©fono", "L√°mpara", "Reloj", "Computador", "Teclado", "Aud√≠fonos", "Cartera", "Cuaderno"],
            Profesiones: ["Doctor", "Ingeniero", "Abogado", "Profesor", "Polic√≠a", "Enfermero", "Chef", "Arquitecto", "Contador"],
            Deportes: ["F√∫tbol", "Baloncesto", "Tenis", "Nataci√≥n", "Ciclismo", "Voleibol", "Boxeo", "Atletismo"],
            Marcas: ["Nike", "Adidas", "Apple", "Samsung", "Puma", "Coca-Cola", "Pepsi", "Sony", "BMW"],
            Peliculas: ["Titanic", "Avatar", "Anaconda", "Vengadores", "El Padrino", "Harry Potter", "Toy Story"],
            Frutas: ["Manzana", "Banano", "Mango", "Fresa", "Uva", "Papaya", "Pi√±a", "Sand√≠a"],
            Cantantes: ["Shakira", "Karol G", "Maluma", "Feid", "Bad Bunny", "J Balvin", "Adele", "Bruno Mars"]
        };

        let revealOrder = [];
        let impostors = [];
        let chosenWord = "";
        let currentIndex = 0;

        const setup = document.getElementById("setup");
        const waiting = document.getElementById("waiting");
        const game = document.getElementById("game");
        const finalStart = document.getElementById("finalStart");

        document.getElementById("startBtn").onclick = () => {
            const nPlayers = parseInt(document.getElementById("numPlayers").value);
            const nImpostors = parseInt(document.getElementById("numImpostors").value);
            const category = document.getElementById("category").value;

            chosenWord = words[category][Math.floor(Math.random() * words[category].length)];
            revealOrder = Array.from({ length: nPlayers }, (_, i) => i + 1);

            impostors = [];
            while (impostors.length < nImpostors) {
                let r = Math.floor(Math.random() * nPlayers) + 1; if (!impostors.includes(r))
                    impostors.push(r);
            } currentIndex = 0; setup.classList.add("hidden"); waiting.classList.remove("hidden");
            updateWaitingText();
        }; function updateWaitingText() {
            const player = revealOrder[currentIndex];
            document.getElementById("waitingText").textContent = `Jugador ${player}, presiona para ver tu palabra`;
        }
        document.getElementById("showWordBtn").onclick = () => {
            waiting.classList.add("hidden");
            game.classList.remove("hidden");

            const player = revealOrder[currentIndex];
            document.getElementById("playerHeader").textContent = `Jugador ${player}`;

            if (impostors.includes(player)) {
                document.getElementById("word").textContent = "??? (Impostor)";
                document.getElementById("word").style.color = "#ff006e";
            } else {
                document.getElementById("word").textContent = chosenWord;
                document.getElementById("word").style.color = "#ffbe0b";
            }

            setTimeout(() => {
                game.classList.add("hidden");

                currentIndex++;
                if (currentIndex >= revealOrder.length) {
                    const starter = revealOrder[Math.floor(Math.random() * revealOrder.length)];
                    document.getElementById("starterPlayer").textContent = `Jugador ${starter}`;

                    finalStart.classList.remove("hidden");
                    waiting.classList.add("hidden");
                } else {
                    waiting.classList.remove("hidden");
                    updateWaitingText();
                }
            }, 5000);
        };
        document.getElementById("btnReiniciar").onclick = () => {
            // Reiniciar todo: volver a la pantalla de configuraci√≥n
            finalStart.classList.add("hidden");
            setup.classList.remove("hidden");
            currentIndex = 0;
        };
    </script>

    <div class="footer-credit">¬© 2025 Cristian Duran ‚Äî Todos los derechos reservados.</div>
</body>

</html>
